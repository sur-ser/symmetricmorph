<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SymmetricMorph ESM Test</title>
    <script type="module">
      import SymmetricMorph from '../../dist/browser/symmetricmorph.es.js';

      // Step 1: Encrypt
      const cipherEnc = SymmetricMorph.fromPassword('Secret123');
      const salt = cipherEnc.getSalt();
      const plain = new Uint8Array(Array.from('Hello Browser!').map(c => c.charCodeAt(0)));
      const encrypted = cipherEnc.encrypt(plain);

      // Step 2: Decrypt using the saved salt
      const cipherDec = SymmetricMorph.fromPasswordWithSalt('Secret123', salt);
      const decrypted = cipherDec.decrypt(encrypted);

      console.log(String.fromCharCode(...decrypted)); // Hello Browser!
    </script>


</head>
<body>
<h1>SymmetricMorph ESM Demo</h1>
</body>
</html>